name: CD-Test

on: [push]

jobs: 
  CD:
    name: CD
    runs-on: ubuntu-latest
    defaults:
      run:
        working-directory: ./
    steps:
      - name: Checkout
        uses: actions/checkout@v4
      - name: Setup Node.js
        uses: actions/setup-node@v2
        with:
          node-version: '20.x'
      # - name: Install dependencies
      #   run: npm install
      # - name: Build
      #   run: npm run build
      - name: ls
        run: |
          ls -la
          ls pack
      - name: Deploy
        uses: azure/webapps-deploy@v2
        with:
          app-name: 'cd-test'
          slot-name: 'production'
          package: ./pack
          publish-profile: ${{ secrets.AZUREAPPSERVICE_PUBLISHPROFILE_07086D2D6CE54D0F8AC67DFCFB849E77 }}